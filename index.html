<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
      });
      google.charts.setOnLoadCallback(drawRegionsMap);
		arr = [];
	
	    
	var all_data; 
	$.getJSON('world_covid_data.json', function(data) {
    // JSON result in `data` variable
	console.log("DATA RECIEVED--------------------");
	console.log(data);
	all_data = data;
	});
	    
	    
	function get_day_data(data, day)
	    {
		    //var x = new Date(2019,12,1);
		    
		    var x = new Date(2019,12,31);
		    x.setDate(x.getDate()+day);
    		    //var str = ((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1))) + '/' + ((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate())) + '/' + date.getFullYear();
		    //str = "6/16/2020";
		    ///x.setDate(x.getDate()+day);
		    
		    var Y = x.getYear()+1900;
		    var M = x.getMonth()+1;
		    var D = x.getDay()+1;
		    
		    
		    //var str = Y.toString()+"-"+M.toString()+"-"+D.toString();
		    var str = M.toString()+"/"+D.toString()+"/"+ Y.toString();
		    $('#date_value').val(str);
		    //var str = x.toISOString().substr(0,10)
		    var res = [['Country', 'Cases'], ['fake', 7]];
		    
		    if(all_data == null)
			    return [];
		    all_data.forEach(function(row){
			    if (row.date == str)
				    res.push([row.location, Math.log( row.total_cases+1)/Math.log(10)]);
		    });
		    
		    return res;
	    }

	  time = 0
	  first = true
      function drawRegionsMap() {

		
		var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

        <!-- var data = google.visualization.arrayToDataTable([ -->
          <!-- ['Country', 'Popularity'], -->
          <!-- ['Germany', 200], -->
          <!-- ['United States', 300], -->
          <!-- ['Brazil', 400], -->
          <!-- ['Canada', 500], -->
          <!-- ['France', 600], -->
          <!-- ['RU', x] -->
        <!-- ]); -->
		
		//console.log(arr[time][0][1])
		//console.log(arr[time][1][1])
		//console.log(arr[time][2][1])
	      	dayArr = get_day_data(all_data,time);
		var data = google.visualization.arrayToDataTable(dayArr);
		time = time+1;
		
        var options = {
		// region: 'US', 
		//displayMode: 'markers',
		 colorAxis: {colors: ['white', 'blue', 'red']}, 
		  animation:{
			duration: 1000,
			easing: 'out'
		  }
		};

        

		 google.visualization.events.addListener(chart, 'ready',
          function() {
            //button.disabled = false;
          });
		  
        chart.draw(data, options);
		
	    tt = setInterval(function(){
		//drawRegionsMap();
		time = time + 1; 		
		//data = google.visualization.arrayToDataTable(arr[time]);
		dayArr = get_day_data(all_data,time);
		
		var data = google.visualization.arrayToDataTable(dayArr);
		chart.draw(data, options);
		}, 1000);
		
      }
	  

    </script>
  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    /* Add a gray background color and some padding to the footer */
    footer {
      background-color: #f2f2f2;
      padding: 25px;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">About</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Covid-19</a></li>
        <li><a href="#">Background Theory</a></li>
        <li><a href="#">Gallery</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="jumbotron">
  <div class="container text-center">
    <h1>Panic Network</h1>      
    <p>Universitiy of Arizona, Mathematics Department</p>
  </div>
</div>
  
<div id="regions_div" style="width: 100%; height: 500px;"></div>
 <div class="container text-center"><input id="date_value" value=""></div>
<footer class="container-fluid text-center">
  <p>This project is supported by a force in @nature.</p>
</footer>

</body>
</html>



















<!--


<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
      });
      google.charts.setOnLoadCallback(drawRegionsMap);
		arr = [];
	
	    
	var all_data; 
	$.getJSON('world_covid_data.json', function(data) {
    // JSON result in `data` variable
	console.log("DATA RECIEVED--------------------");
	console.log(data);
	all_data = data;
	});
	    
	    
	function get_day_data(data, day)
	    {
		    //var x = new Date(2019,12,1);
		    
		    var x = new Date(2019,12,31);
		    x.setDate(x.getDate()+day);
    		    //var str = ((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1))) + '/' + ((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate())) + '/' + date.getFullYear();
		    //str = "6/16/2020";
		    ///x.setDate(x.getDate()+day);
		    
		    var Y = x.getYear()+1900;
		    var M = x.getMonth()+1;
		    var D = x.getDay()+1;
		    
		    
		    //var str = Y.toString()+"-"+M.toString()+"-"+D.toString();
		    var str = M.toString()+"/"+D.toString()+"/"+ Y.toString();
		    //var str = x.toISOString().substr(0,10)
		    var res = [['Country', 'Cases'], ['fake', 0]];
		    
		    if(all_data == null)
			    return [];
		    all_data.forEach(function(row){
			    if (row.date == str)
				    res.push([row.location, row.total_cases]);
		    });
		    
		    return res;
	    }

	  time = 0
	  first = true
      function drawRegionsMap() {

		
		var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

        <!-- var data = google.visualization.arrayToDataTable([ -->
          <!-- ['Country', 'Popularity'], -->
          <!-- ['Germany', 200], -->
          <!-- ['United States', 300], -->
          <!-- ['Brazil', 400], -->
          <!-- ['Canada', 500], -->
          <!-- ['France', 600], -->
          <!-- ['RU', x] -->
        <!-- ]); -->
		
		//console.log(arr[time][0][1])
		//console.log(arr[time][1][1])
		//console.log(arr[time][2][1])
	      	dayArr = get_day_data(all_data,time);
		var data = google.visualization.arrayToDataTable(dayArr);
		time = time+1;
		
        var options = {
		// region: 'US', 
		//displayMode: 'markers',
		 colorAxis: {colors: ['green', 'red']}, 
		  animation:{
			duration: 1000,
			easing: 'out'
		  }
		};

        

		 google.visualization.events.addListener(chart, 'ready',
          function() {
            //button.disabled = false;
          });
		  
        chart.draw(data, options);
		
	    tt = setInterval(function(){
		//drawRegionsMap();
		time = time + 1; 		
		//data = google.visualization.arrayToDataTable(arr[time]);
		dayArr = get_day_data(all_data,time);
		var data = google.visualization.arrayToDataTable(dayArr);
		chart.draw(data, options);
		}, 1000);
		
      }
	  

    </script>
  </head>
  <body>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
  </body>
</html> 

-->
